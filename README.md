# LinkLabel

A flexible Swift-based UILabel subclass that supports tappable links applied to ranges of text.

This library is originally based off of Michael Loistl's [ContextLabel](https://github.com/michaelloistl/ContextLabel.Swift), which is based off of [KILabel](https://github.com/Krelborn/KILabel) which is in turn based off [STTweetLabel](http://github.com/SebastienThiebaud) and [NimbusAttributedLabel](http://latest.docs.nimbuskit.info/NimbusAttributedLabel.html).

# Installation

`LinkLabel` currently supports installation via Carthage. Add it to your Cartfile:

```
github "rightbalance/LinkLabel"
```

# Usage

`LinkLabel` is a `UILabel` subclass, so you can use it just like you would a normal `UILabel`.

## Highlighting links

To highlight links, you must assign at least one link detector to the `linkDetectors` property. You can use anything that conforms to the `LinkDetectorType` protocol. You can implement your own, but most common functionality can be handled with the link detectors that come bundled with `LinkLabel`.

### RangeLinkDetector

Highlights links based on a set of precalculated text ranges.

### SubstringLinkDetector

Highlights links based on the first matching substring.

### RegexLinkDetector

Highlights links based on matches with the given regex. You can use an arbitrary regex, but there are some static methods for creating regex link detectors for common use cases.

* `RegexLinkDetector.usernameLinkDetector` detects "at-style" usernames like `@cooldude23`.
* `RegexLinkDetector.hashtagLinkDetector` detects hashtags.
* `RegexLinkDetector.urlLinkDetector` detects URLs.

## Callbacks

Each link detector can be configured with an optional callback for taps on links generated by that detector. In addition, you can use the `whenLinkIsTapped` method on `LinkLabel` to receive callbacks for taps on any link in the label.

## Configuration

The link color will be set to the label's `tintColor`, which will be inherited from the view hierarchy by default. You can set the tint color explicitly on the label to override this behavior.

By default, the highlighted link color will be a translucent version of the tint color, but you can assign your own color to the `highlightedLinkColor` property.

## Example

```
let label = LinkLabel()

label.linkDetectors = [
	RegexLinkDetector.usernameLinkDetector { [weak self] matchString in
		self?.openUserProfileWithUsername(matchString)
	},
	
	RegexLinkDetector.hashtagLinkDetector { [weak self] matchString in
		self?.searchForHashtag(matchString)
	},
	
	SubstringLinkDetector(substring: "Terms of Service") { [weak self] _ in
		self?.openTermsOfService()
	}
]

label.whenLinkIsTapped { [weak self] matchString in
	self?.doSomethingWithLink(matchString)
}
```
